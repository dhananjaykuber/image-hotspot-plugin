{"version":3,"file":"image-hotspot/view.js","mappings":";;;;AAAA;AACA;AACA;;AAEAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EACnD,MAAMC,iBAAiB,GAAGF,QAAQ,CAACG,gBAAgB,CAClD,0BACD,CAAC;EAED,IAAI,CAACD,iBAAiB,CAACE,MAAM,EAAE;IAC9B;EACD;;EAEA;EACA,MAAMC,qBAAqB,GAAIC,gBAAgB,IAAK;IACnD,MAAMC,OAAO,GAAGD,gBAAgB,CAACE,aAAa,CAAC,wBAAwB,CAAC;IACxE,MAAMC,OAAO,GAAGH,gBAAgB,CAACE,aAAa,CAAC,wBAAwB,CAAC;IAExE,IAAI,CAACD,OAAO,IAAI,CAACE,OAAO,EAAE;MACzB;IACD;;IAEA;IACAF,OAAO,CAACG,KAAK,CAACC,GAAG,GAAG,EAAE;IACtBJ,OAAO,CAACG,KAAK,CAACE,IAAI,GAAG,EAAE;IACvBL,OAAO,CAACG,KAAK,CAACG,KAAK,GAAG,EAAE;IACxBN,OAAO,CAACG,KAAK,CAACI,MAAM,GAAG,EAAE;IAEzB,MAAMC,QAAQ,GAAG;MAChBC,KAAK,EAAEC,MAAM,CAACC,UAAU;MACxBC,MAAM,EAAEF,MAAM,CAACG;IAChB,CAAC;IAED,MAAMC,OAAO,GAAG,CAAC;;IAEjB;IACA,MAAMV,GAAG,GAAGF,OAAO,CAACa,SAAS,GAAGb,OAAO,CAACc,YAAY,GAAGF,OAAO;IAC9D,MAAMT,IAAI,GACTH,OAAO,CAACe,UAAU,GAAGf,OAAO,CAACgB,WAAW,GAAG,CAAC,GAAGlB,OAAO,CAACkB,WAAW,GAAG,CAAC;IAEvElB,OAAO,CAACG,KAAK,CAACC,GAAG,GAAG,GAAGA,GAAG,IAAI;IAC9BJ,OAAO,CAACG,KAAK,CAACE,IAAI,GAAG,GAAGA,IAAI,IAAI;;IAEhC;IACA,MAAMc,WAAW,GAAGnB,OAAO,CAACoB,qBAAqB,CAAC,CAAC;;IAEnD;IACA,IAAID,WAAW,CAACd,IAAI,GAAG,CAAC,EAAE;MACzBL,OAAO,CAACG,KAAK,CAACE,IAAI,GAAG,GAAGS,OAAO,IAAI;IACpC,CAAC,MAAM,IAAIK,WAAW,CAACb,KAAK,GAAGE,QAAQ,CAACC,KAAK,EAAE;MAC9CT,OAAO,CAACG,KAAK,CAACE,IAAI,GAAG,GAAGG,QAAQ,CAACC,KAAK,GAAGT,OAAO,CAACkB,WAAW,GAAG,EAAE,IAAI;IACtE;;IAEA;IACA,IAAIC,WAAW,CAACZ,MAAM,GAAGC,QAAQ,CAACI,MAAM,EAAE;MACzC;MACA,MAAMS,QAAQ,GAAGnB,OAAO,CAACa,SAAS,GAAGf,OAAO,CAACgB,YAAY,GAAGF,OAAO;MACnE,IAAIO,QAAQ,GAAG,CAAC,EAAE;QACjBrB,OAAO,CAACG,KAAK,CAACC,GAAG,GAAG,GAAGiB,QAAQ,IAAI;MACpC,CAAC,MAAM;QACN;QACArB,OAAO,CAACG,KAAK,CAACC,GAAG,GAAG,GACnBI,QAAQ,CAACI,MAAM,GAAGZ,OAAO,CAACgB,YAAY,GAAGF,OAAO,IAC7C;MACL;IACD;EACD,CAAC;;EAED;EACA,MAAMQ,iBAAiB,GAAGA,CAAA,KAAM;IAC/B3B,iBAAiB,CAAC4B,OAAO,CAACzB,qBAAqB,CAAC;EACjD,CAAC;;EAED;EACAY,MAAM,CAAChB,gBAAgB,CAAC,QAAQ,EAAE4B,iBAAiB,CAAC;EAEpDA,iBAAiB,CAAC,CAAC;AACpB,CAAC,CAAC,C","sources":["webpack://image-hotspot/./src/image-hotspot/view.js"],"sourcesContent":["/**\n * Handles the positioning of tooltips for image hotspots.\n */\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\tconst hotspotContainers = document.querySelectorAll(\n\t\t\".imagehotspot__container\",\n\t);\n\n\tif (!hotspotContainers.length) {\n\t\treturn;\n\t}\n\n\t// Update the position of the tooltip relative to the hotspot\n\tconst updateTooltipPosition = (hotspotContainer) => {\n\t\tconst tooltip = hotspotContainer.querySelector(\".imagehotspot__tooltip\");\n\t\tconst hotspot = hotspotContainer.querySelector(\".imagehotspot__hotspot\");\n\n\t\tif (!tooltip || !hotspot) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Reset tooltip position\n\t\ttooltip.style.top = \"\";\n\t\ttooltip.style.left = \"\";\n\t\ttooltip.style.right = \"\";\n\t\ttooltip.style.bottom = \"\";\n\n\t\tconst viewport = {\n\t\t\twidth: window.innerWidth,\n\t\t\theight: window.innerHeight,\n\t\t};\n\n\t\tconst spacing = 4;\n\n\t\t// Default position of tooltip below the hotspot\n\t\tconst top = hotspot.offsetTop + hotspot.offsetHeight + spacing;\n\t\tconst left =\n\t\t\thotspot.offsetLeft + hotspot.offsetWidth / 2 - tooltip.offsetWidth / 2;\n\n\t\ttooltip.style.top = `${top}px`;\n\t\ttooltip.style.left = `${left}px`;\n\n\t\t// Calculate the tooltip's bounding rectangle\n\t\tconst tooltipRect = tooltip.getBoundingClientRect();\n\n\t\t// Horizontal overflow handling\n\t\tif (tooltipRect.left < 0) {\n\t\t\ttooltip.style.left = `${spacing}px`;\n\t\t} else if (tooltipRect.right > viewport.width) {\n\t\t\ttooltip.style.left = `${viewport.width - tooltip.offsetWidth - 60}px`;\n\t\t}\n\n\t\t// Vertical overflow handling\n\t\tif (tooltipRect.bottom > viewport.height) {\n\t\t\t// If it overflows the bottom, try to position it above\n\t\t\tconst aboveTop = hotspot.offsetTop - tooltip.offsetHeight - spacing;\n\t\t\tif (aboveTop > 0) {\n\t\t\t\ttooltip.style.top = `${aboveTop}px`;\n\t\t\t} else {\n\t\t\t\t// If it can't fit above, keep it at the bottom\n\t\t\t\ttooltip.style.top = `${\n\t\t\t\t\tviewport.height - tooltip.offsetHeight - spacing\n\t\t\t\t}px`;\n\t\t\t}\n\t\t}\n\t};\n\n\t// Update position for each hotspot container\n\tconst updateAllTooltips = () => {\n\t\thotspotContainers.forEach(updateTooltipPosition);\n\t};\n\n\t// Update tooltips on window resize\n\twindow.addEventListener(\"resize\", updateAllTooltips);\n\n\tupdateAllTooltips();\n});\n"],"names":["document","addEventListener","hotspotContainers","querySelectorAll","length","updateTooltipPosition","hotspotContainer","tooltip","querySelector","hotspot","style","top","left","right","bottom","viewport","width","window","innerWidth","height","innerHeight","spacing","offsetTop","offsetHeight","offsetLeft","offsetWidth","tooltipRect","getBoundingClientRect","aboveTop","updateAllTooltips","forEach"],"sourceRoot":""}